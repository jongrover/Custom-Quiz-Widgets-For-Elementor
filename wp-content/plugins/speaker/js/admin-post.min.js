/**
 * Create an audio version of your posts, with a selection of more than 235+ voices across more than 40 languages and variants.
 * Exclusively on Envato Market: https://1.envato.market/speaker
 *
 * @encoding        UTF-8
 * @version         3.1.0
 * @copyright       Copyright (C) 2018 - 2020 Merkulove ( https://merkulov.design/ ). All rights reserved.
 * @license         Envato License https://1.envato.market/KYbje
 * @contributors    Alexander Khmelnitskiy (info@alexander.khmelnitskiy.ua), Dmitry Merkulov (dmitry@merkulov.design)
 * @support         help@merkulov.design
 **/
!function(e){"use strict";e(document).ready((function(){let t,a=!1,n=window.mdpSpeaker,s=!1,i=!1,d=e("#mdp-speaker-speech-template-editor-box .mdp-iframe-preloader"),o=e("#mdp-speaker-add-speech-template-btn").data("post-url"),l=e("#mdp-speaker-speech-template-editor-iframe"),p=e("#mdp-speaker-speech-templates-template"),m=p.parent().data("mdc-index");void 0!==m&&(t=window.MerkulovMaterial[m],t.listen("MDCSelect:change",f),f());let r,c=e("#mdp-speaker-element-form-xpath");function u(t){void 0!==t&&clearTimeout(r);let a,n=N(c.val()),s=e("#mdp-speaker-element-form-content").parent().data("mdc-index");a=window.MerkulovMaterial[s],a.value=n}function f(){let t=p.val(),a=e(".mdp-speaker-st-controls .mdp-speaker-edit"),n=e(".mdp-speaker-st-controls .mdp-speaker-make-default"),s=e(".mdp-speaker-st-controls .mdp-speaker-delete"),i=n.data("default-for-post-type");"content"===t?(n.html("outlined_flag"),a.prop("disabled",!0),n.prop("disabled",!0),s.prop("disabled",!0)):i!==t?(n.html("outlined_flag"),a.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1)):i===t?(n.html("flag"),a.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1)):(a.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1))}function h(e){console.error(e),e.message?window.alert("ERROR:\n "+e.message):e.responseText?window.alert("ERROR:\n "+e.responseText):window.alert("ERROR:\n "+e)}function g(e){return"string"==typeof e&&decodeURIComponent(e)!==e}function k(e){g(e)&&(e=decodeURI(e));let t,a=l[0].contentDocument;try{return t=a.evaluate(e,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,t}catch(e){console.warn(e)}}function v(){s=!0,M()}function b(e){return e&&e.id?'//*[@id="'+e.id+'"]':function(e){let t=[];for(;e&&e.nodeType==Node.ELEMENT_NODE;e=e.parentNode){let a=0,n=!1;for(let t=e.previousSibling;t;t=t.previousSibling)t.nodeType!=Node.DOCUMENT_TYPE_NODE&&t.nodeName==e.nodeName&&++a;for(let t=e.nextSibling;t&&!n;t=t.nextSibling)t.nodeName==e.nodeName&&(n=!0);let s=(e.prefix?e.prefix+":":"")+e.localName,i=a||n?"["+(a+1)+"]":"";t.splice(0,0,s+i)}return t.length?"/"+t.join("/"):null}(e)}function x(t){let a=b(t);a=encodeURI(a),e(t).data("xpath",a),y("element",function(e){let t=e.constructor.name.replace("HTML","");return"Element"!==t&&(t=t.replace("Element","")),t}(t),a)}function y(t="element",a="New Element",n="",s,i,d,o,l,p){let m;"element"===t?(g(n)&&(n=decodeURI(n)),m=N(n),m=N(n).length>0?N(n):"<i>Content not found for this element</i>"):"text"===t?m=o:"pause"===t&&(m="Time: "+l+"ms, ",m+="Strength: "+p),n=encodeURI(n),e("#mdp-speaker-st-list").append(`\n                <li class="mdc-list-item"\n                    data-type="${t}"\n                    data-name="${a}" \n                    data-xpath="${n}"                      \n                    data-voice="${s}"\n                    data-say-as="${i}"\n                    data-emphasis="${d}"\n                    data-time="${l}"\n                    data-strength="${p}">\n                    <span title="Edit" class="mdp-edit-item material-icons" aria-hidden="true">edit</span>                    \n                    <span class="mdc-list-item__text">                        \n                        <span class="mdc-list-item__primary-text">${a}</span>\n                        <span class="mdc-list-item__secondary-text">${m}</span>\n                    </span>                    \n                    <span title="Remove" class="mdp-remove-item mdc-list-item__meta material-icons" aria-hidden="true">close</span>\n                </li>\n            `),w()}function w(){let t=e("#mdp-speaker-st-list li").length;if(t>0?(e(".mdp-list-box .mdp-stb-subtitle").removeClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info").addClass("mdc-hidden")):(e(".mdp-list-box .mdp-stb-subtitle").addClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info").removeClass("mdc-hidden")),t>1){let t=Math.floor(Math.random()*Math.floor(3));t++,e(".mdp-list-box .mdp-stb-info.mdp-help-"+t).removeClass("mdc-hidden")}else e(".mdp-list-box .mdp-stb-info.mdp-help-1").addClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info.mdp-help-2").addClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info.mdp-help-3").addClass("mdc-hidden")}function _(t){void 0!==t&&t.preventDefault(),e("#mdp-speaker-element-form").addClass("mdc-hidden")}function C(){l.contents().find("body .mdp-selected").removeClass("mdp-active mdp-selected"),e("#mdp-speaker-st-list li").each((function(){if("element"!==e(this).data("type"))return!0;let t=e(this).data("xpath");t=decodeURI(t);let a=k(t);e(a).addClass("mdp-selected"),e(this).hasClass("mdp-active")&&e(a).addClass("mdp-active")}))}function M(){let t=e(".mdp-side-panel > footer .mdp-st-save-btn");e("#mdp-speaker-template-name").val().length>=1&&e("#mdp-speaker-st-list li").length>=1?t.prop("disabled",!1):t.prop("disabled",!0)}function E(t,a="Edit Element",s=!1,i="element"){let d=!1;void 0===t&&(d=!0);let o=e("#mdp-speaker-element-form");if(o.attr("data-type",i),o.data("type",i),o.attr("data-is-new",d),o.data("is-new",d),o.removeClass("mdc-hidden"),o.find(".mdp-title").html(a),function(t){let a="New Element",n=e("#mdp-speaker-element-form").data("type");"text"===n?a="New Text":"pause"===n&&(a="New Pause");void 0!==t&&(a=t.data("name"));let s=e("#mdp-speaker-element-form-name").parent().data("mdc-index");window.MerkulovMaterial[s].value=a}(t),"element"===i||"text"===i){"element"===i?(function(){let t=e("#mdp-speaker-element-form");t.find(".mdp-speaker-xpath-box").show(),t.find(".mdp-speaker-content-box").show(),t.find(".mdp-speaker-voice-box").show(),t.find(".mdp-speaker-say-as-box").show(),t.find(".mdp-speaker-emphasis-box").show(),t.find(".mdp-speaker-time-box").hide(),t.find(".mdp-speaker-strength-box").hide()}(),function(e){let t="",a="";void 0!==e&&(t=e.data("xpath"),t=decodeURI(t),a=N(t));I(a,!0)}(t)):(function(){let t=e("#mdp-speaker-element-form");t.find(".mdp-speaker-content-box").show(),t.find(".mdp-speaker-voice-box").show(),t.find(".mdp-speaker-say-as-box").show(),t.find(".mdp-speaker-emphasis-box").show(),t.find(".mdp-speaker-xpath-box").hide(),t.find(".mdp-speaker-time-box").hide(),t.find(".mdp-speaker-strength-box").hide()}(),function(e){let t="";void 0!==e&&(t=e.find(".mdc-list-item__secondary-text").html());I(t,!1)}(t)),function(e){let t="/html[1]/body[1]/div[1]";void 0!==e&&(t=e.data("xpath"));t=decodeURI(t);let a=c.parent().data("mdc-index");window.MerkulovMaterial[a].value=t}(t),function(t){D("#mdp-speaker-language-filter","0","0"),function(){setTimeout((function(){e("#mdp-speaker-settings-language-tbl tbody").hide(),e("#mdp-speaker-settings-language-tbl_info").hide(),e("#mdp-speaker-settings-language-tbl_paginate").hide(),e("#mdp-speaker-settings-language-tbl_length").hide(),e("#mdp-speaker-settings-language-tbl thead").hide()}),100);let t=e("#mdp-speaker-settings-language-tbl");t.removeClass("hidden"),t.DataTable({retrieve:!0,lengthMenu:[[-1],["All"]],initComplete:function(){this.api().columns().every((function(){let t=this,a=e("#mdp-speaker-language-filter");0===t[0][0]&&a.on("change",(function(){e("#mdp-speaker-settings-language-tbl tbody").show(),e("#mdp-speaker-settings-language-tbl_info").show(),e("#mdp-speaker-settings-language-tbl_paginate").hide(),e("#mdp-speaker-settings-language-tbl_length").hide(),e("#mdp-speaker-settings-language-tbl thead").show();let a=e.fn.dataTable.util.escapeRegex(e(this).val());"0"===a&&(a=""),t.search(a?"^"+a+"$":"",!0,!1).draw()}))}))}}),e("#mdp-speaker-settings-language-tbl tbody").on("click","tr",(function(){e("#mdp-speaker-settings-language-tbl tr.selected").removeClass("selected"),e(this).addClass("selected");let t=e("#mdp-speaker-settings-language-tbl tr.selected .mdp-voice-name").attr("title"),a=e("#mdp-speaker-settings-language-tbl tr.selected .mdp-lang-code").text();e(".mdp-now-used strong").html(t),e("#mdp-speaker-settings-language").val(t),e("#mdp-speaker-settings-language-code").val(a);let n=e(".mdp-now-used audio");n.attr("src","https://cloud.google.com/text-to-speech/docs/audio/"+t+".mp3"),n[0].pause(),n[0].load()}))}();let a=n.voice;void 0!==t&&"undefined"!==t.data("voice")&&(a=t.data("voice"));e("#mdp-speaker-settings-language").val(a),e(".mdp-speaker-voice-box .mdp-now-used strong").html(a),e(".mdp-speaker-voice-box .mdp-now-used audio").attr("src","https://cloud.google.com/text-to-speech/docs/audio/"+a+".mp3")}(t);let a="none",s="none";void 0!==t&&(a=t.data("say-as"),s=t.data("emphasis")),D("#mdp-speaker-element-form-say-as",a,"none"),D("#mdp-speaker-element-form-emphasis",s,"none")}else if("pause"===i){!function(){let t=e("#mdp-speaker-element-form");t.find(".mdp-speaker-xpath-box").hide(),t.find(".mdp-speaker-content-box").hide(),t.find(".mdp-speaker-voice-box").hide(),t.find(".mdp-speaker-say-as-box").hide(),t.find(".mdp-speaker-emphasis-box").hide(),t.find(".mdp-speaker-time-box").show(),t.find(".mdp-speaker-strength-box").show()}(),function(t){let a="300";void 0!==t&&(a=t.data("time"));let n=e("#mdp-speaker-element-form-time").data("mdc-index");window.MerkulovMaterial[n].value=a,e(".mdp-speaker-time-box .mdc-text-field-helper-text strong").html(a),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),500)}(t);let a="none";void 0!==t&&(a=t.data("strength")),D("#mdp-speaker-element-form-strength",a,"none")}!function(t){let a=e("#mdp-speaker-element-form").find("footer .mdp-save-btn");a.prop("disabled",!1),t?a.find(".mdc-button__label").html("Add"):a.find(".mdc-button__label").html("Save")}(d),o.find(".mdp-element-form").scrollTop(0)}function T(e){let t="Edit Text";"undefined"!==e&&(t="Add Text"),E(e,t,!0,"text")}function R(t){let a="Edit Pause";"undefined"!==t&&(a="Add Pause",e("#mdp-speaker-element-form-time-input").val("300")),E(t,a,!0,"pause")}function D(t,a,n="none"){void 0!==a&&"undefined"!==a||(a=n);let s=e(t).parent().data("mdc-index");window.MerkulovMaterial[s].value=a}function I(t="",a=!1){let n=e("#mdp-speaker-element-form-content").parent().data("mdc-index"),s=window.MerkulovMaterial[n];s.value=t,s.disabled=a}function N(e){let t=k(e);return null==t?"":function(e,t=!0,a=!0,n=!0,s=99){let i=e.innerHTML;if(t){let e=/((<style>)|(<style type=.+))((\s+)|(\S+)|(\r+)|(\n+))(.+)((\s+)|(\S+)|(\r+)|(\n+))(<\/style>)/g;i=i.replace(e,""),i=i.replace(/(<([^>]+)>)/gi,"")}return a&&(i=i.replace(/[\n\r\t]/g," ")),n&&(i=i.replace(/ +(?= )/g,"")),s&&(i=i.substring(0,s)),i.trim()}(t,!0,!0,!0,0)}function S(){e("html, body").css("overflow",""),e("#mdp-speaker-template-speech-template-editor").addClass("mdc-hidden")}function j(e){17===e.which&&(i=!0,l.contents().find("body .mdp-highlight").removeClass("mdp-highlight"))}function U(){i=!1}function $(){if(!i){if(e(this).hasClass("mdp-selected")){let t=decodeURI(e(this).data("xpath")),a=e("#mdp-speaker-st-list");e("#mdp-speaker-st-list li").each((function(){decodeURI(e(this).data("xpath"))===t&&(e(this).remove(),!a.find("li").length>=1&&a.empty(),w())})),e(this).removeClass("mdp-selected")}else e(this).hasClass("mdp-highlight")?(e(this).removeClass("mdp-highlight").addClass("mdp-selected"),x(e(this)[0])):(e(this).addClass("mdp-selected"),x(e(this)[0]));return v(),!1}}function A(t){if(i)return;if(e(t.target).is("body"))return void l.contents().find("body .mdp-highlight").removeClass("mdp-highlight");l.contents().find("body .mdp-highlight").removeClass("mdp-highlight");let a=t.target.constructor.name;a.startsWith("HTML")&&"HTMLIFrameElement"!==a&&e(t.target).addClass("mdp-highlight")}function P(t=!1){e("html, body").css("overflow","hidden"),e("#mdp-speaker-template-speech-template-editor").removeClass("mdc-hidden"),function(){let e=document.getElementById("mdp-speaker-st-list");Sortable.create(e,{animation:150,ghostClass:"mdp-blue-background",onEnd:function(){v()}})}(),d.addClass("mdp-active"),l.attr("src",o);let a=e("#mdp-speaker-template-name").parent().data("mdc-index");window.MerkulovMaterial[a].value=t?q(O)+" "+q(L):window.MerkulovMaterial[a].value}document.body.classList.contains("block-editor-page")&&!document.body.classList.contains("vc_editor")&&wp.data.subscribe((function(){if(!wp.data.select("core/editor"))return;let t=wp.data.select("core/editor").isSavingPost(),n=wp.data.select("core/editor").isAutosavingPost(),s=wp.data.select("core/editor").getCurrentPost().status;if(t&&!n){if("publish"===s){let t=e(".mdp-warning");t.length&&(t.html("Refresh this page to see Speaker controls"),setTimeout((function(){location.reload()}),800))}a=!1}})),e(":input").on("change",(function(){a=!0})),e(document).on("click","#mdp_speaker_generate",(function(t){if(t.preventDefault(),e(this).hasClass("is-busy"))return;let s=!1;document.body.classList.contains("block-editor-page")&&wp.data.select("core/editor")&&wp.data.select("core/editor").isEditedPostDirty()&&(s=!0);if((a||s)&&!confirm("It looks like you made changes and did not save it. Continue anyway?"))return;e(this).addClass("is-busy").attr("disabled",!0);let i={action:"gspeak",nonce:n.nonce,post_id:n.post_id,stid:p.val()};e.post(ajaxurl,i,(function(e){e.success?location.reload():h(e)})).fail((function(e){h(e)})).always((function(){e("#mdp_speaker_generate").removeClass("is-busy").attr("disabled",!1)}))})),e(document).on("click","#mdp_speaker_remove",(function(t){if(t.preventDefault(),e(this).hasClass("is-busy"))return;if(!confirm("Are you sure you want to delete the audio version of this post?"))return;e(this).addClass("is-busy").attr("disabled",!0);let a={action:"remove_audio",nonce:n.nonce,post_id:n.post_id};e.post(ajaxurl,a,(function(e){"ok"===e&&location.reload()})).fail((function(){window.alert("error")})).always((function(){e("#mdp_speaker_generate").removeClass("is-busy").attr("disabled",!1)}))})),e(document).on("click","#mdp-speaker-speech-template-editor-box header > .mdp-close-btn",(function(e){if(e.preventDefault(),s&&!confirm("It looks like you made changes and did not save it. Continue anyway?"))return;S()})),e(document).on("click","#mdp-speaker-speech-template-editor-box .mdp-st-save-btn",(function(t){t.preventDefault(),d.addClass("mdp-active");let a,i=e("#mdp-speaker-template-name").val(),o=e(".mdp-side-panel footer > .mdp-st-save-btn").data("is-new");o?(l=i,l=(l=(l+=Date.now()).normalize("NFD").replace(/[\u0300-\u036f]/g,"")).replace(/[\u0250-\ue007]/g,""),a=l=btoa(l)):a=p.val();var l;let m=[];e("#mdp-speaker-st-list li").each((function(){let t=e(this).data("type"),a="",n="",s="",i="",d="",o="",l="",p="";"element"===t?(a=e(this).data("name"),n=e(this).data("xpath"),n=decodeURI(n),s=e(this).data("voice"),i=e(this).data("say-as"),d=e(this).data("emphasis")):"text"===t?(a=e(this).data("name"),o=e(this).find(".mdc-list-item__secondary-text").html(),s=e(this).data("voice"),i=e(this).data("say-as"),d=e(this).data("emphasis")):"pause"===t&&(a=e(this).data("name"),l=e(this).data("time"),p=e(this).data("strength")),m.push({type:t,name:a,xpath:n,voice:s,sayAs:i,emphasis:d,content:o,time:l.toString(),strength:p})}));let r={};r.id=a,r.name=i,r.elements=m,r=JSON.stringify(r);let c={action:"process_st",nonce:n.nonce,st:r,delete:!1};e.post(ajaxurl,c,(function(t){if(t.success){if(o){let e=p.parent().find("ul.mdc-list");e.append(`\n                            <li class="mdc-list-item" data-value="${a}" role="option" tabindex="-1">${i}</li>\n                        `);let t=p.parent().data("mdc-index");window.MerkulovMaterial[t].selectedIndex=e.find("li").length-1}else{p.parent().find('ul.mdc-list li[data-value="'+a+'"]').html(i),e("#mdp-speaker-speech-templates-template-text").html(i)}S(),s=!1,e(".mdp-side-panel footer .mdp-st-save-btn").prop("disabled",!0)}else h(t)})).fail((function(e){h(e)}))})),e(document).on("click","#mdp-speaker-add-speech-template-btn",(function(t){t.preventDefault();let a=e(".mdp-side-panel > footer .mdp-st-save-btn");a.find(".mdc-button__label").html("Add Speech Template"),a.data("is-new",!0),e("#mdp-speaker-st-list").empty(),P(!0)})),e(document).on("click",".mdp-speaker-st-controls .mdp-speaker-edit",(function(t){t.preventDefault();let a=e(".mdp-side-panel > footer .mdp-st-save-btn");a.find(".mdc-button__label").html("Save Speech Template"),a.data("is-new",!1),P()})),e(document).on("click",".mdp-speaker-st-controls .mdp-speaker-make-default",(function(t){t.preventDefault();let a=p.val(),s=function(){let t,a;return a=null,t=e("body").attr("class").split(" "),e(t).each((function(){if("post-type-"===this.substr(0,10))return a=this.split("post-type-"),void(a=a[a.length-1])})),a}(),i={action:"set_default_st",nonce:n.nonce,stid:a,postType:s};e.post(ajaxurl,i,(function(t){t.success?e(".mdp-speaker-st-controls .mdp-speaker-make-default").html("flag").prop("disabled",!0):h(t)})).fail((function(e){h(e)}))})),e(document).on("click",".mdp-speaker-st-controls .mdp-speaker-delete",(function(t){if(t.preventDefault(),!confirm("Are you sure you want to delete this template?"))return;let a=p.val(),s={};s.id=a,s.name="",s.elements=[],s=JSON.stringify(s);let i={action:"process_st",nonce:n.nonce,st:s,delete:!0};e.post(ajaxurl,i,(function(e){if(e.success){let e=p.parent().data("mdc-index");window.MerkulovMaterial[e].selectedIndex=0,p.parent().find('.mdc-list li[data-value="'+a+'"]').remove()}else h(e)})).fail((function(e){h(e)}))})),e(document).on("click","#mdp-speaker-st-list .mdp-remove-item",(function(t){t.preventDefault();let a=e(this).closest(".mdc-list-item");if("element"===a.data("type")){let t=a.data("xpath");t=decodeURI(t),e(k(t)).removeClass("mdp-selected")}let n=a.parent();a.remove(),n.find("li").length>=1||n.empty();w(),v()})),e(document).on("click","#mdp-speaker-st-list .mdp-edit-item",(function(t){t.preventDefault(),t.stopPropagation();let a=e(this).closest(".mdc-list-item"),n=a.data("type");e("#mdp-speaker-element-form").data("liIndex",a.index()),"element"===n?E(a,"Edit Element",!1,"element"):"text"===n?T(a):"pause"===n&&R(a);v()})),e(document).on("change","#mdp-speaker-element-form-xpath",u),e(document).on("keyup","#mdp-speaker-element-form-xpath",(function(){clearTimeout(r),r=setTimeout(u,1500)})),e(document).on("keydown","#mdp-speaker-element-form-xpath",(function(){clearTimeout(r)})),e(document).on("click","#mdp-speaker-st-list li",(function(){if(e(this).hasClass("mdp-active"))l.contents().find("body .mdp-active").removeClass("mdp-active"),e(this).removeClass("mdp-active");else if(e("#mdp-speaker-st-list li").removeClass("mdp-active"),e(this).addClass("mdp-active"),l.contents().find("body .mdp-active").removeClass("mdp-active"),"element"===e(this).data("type")){let t=k(decodeURI(e(this).data("xpath")));if(null===t)return void l.contents().find("body .mdp-active").removeClass("mdp-active");e(t).addClass("mdp-selected mdp-active"),l[0].contentWindow.scrollTo({top:e(t).offset().top-30,behavior:"smooth"})}})),e(document).on("click",".mdp-side-panel footer .mdc-menu .mdp-add-element",(function(e){e.preventDefault(),E(void 0,"Add Element",!1,"element")})),e(document).on("click",".mdp-side-panel footer .mdc-menu .mdp-add-text",(function(e){e.preventDefault(),T()})),e(document).on("click",".mdp-side-panel footer .mdc-menu .mdp-add-pause",(function(e){e.preventDefault(),R()})),e(document).on("click","#mdp-speaker-element-form .mdp-close-btn",_),e(document).on("click","#mdp-speaker-element-form",(function(t){e(t.target).is("#mdp-speaker-element-form")&&_()})),e(document).on("click","#mdp-speaker-element-form footer .mdp-cancel-btn",_),e(document).on("click","#mdp-speaker-element-form footer .mdp-save-btn",(function(){let t=e("#mdp-speaker-element-form"),a=!1;void 0!==t.data("is-new")&&(a=t.data("is-new"));let n=-1;a||(n=t.data("liIndex"));let s="element";void 0!==t.data("type")&&(s=t.data("type"));"element"===s?function(t,a){let n,s=e("#mdp-speaker-element-form-name").val(),i=c.val(),d=e("#mdp-speaker-settings-language").val(),o=e("#mdp-speaker-element-form-say-as").val(),l=e("#mdp-speaker-element-form-emphasis").val();t?y("element",s,i,d,o,l):(n=e("#mdp-speaker-st-list li").eq(a),n.data("name",s),n.find(".mdc-list-item__primary-text").contents().first()[0].textContent=s,n.data("xpath",encodeURI(i)),n.data("voice",d),n.data("say-as",o),n.data("emphasis",l));C()}(a,n):"text"===s?function(t,a){let n,s=e("#mdp-speaker-element-form-name").val(),i=e("#mdp-speaker-element-form-content").val(),d=e("#mdp-speaker-element-form-say-as").val(),o=e("#mdp-speaker-settings-language").val(),l=e("#mdp-speaker-element-form-emphasis").val();t?y("text",s,"",o,d,l,i):(n=e("#mdp-speaker-st-list li").eq(a),n.data("name",s),n.find(".mdc-list-item__primary-text").contents().first()[0].textContent=s,n.find(".mdc-list-item__secondary-text").html(i),n.data("voice",o),n.data("say-as",d),n.data("emphasis",l));C()}(a,n):"pause"===s&&function(t,a){let n,s=e("#mdp-speaker-element-form-name").val(),i=e("#mdp-speaker-element-form-time-input").val(),d=e("#mdp-speaker-element-form-strength").val();t?y("pause",s,"",void 0,void 0,void 0,void 0,i,d):(n=e("#mdp-speaker-st-list li").eq(a),n.data("name",s),n.find(".mdc-list-item__primary-text").contents().first()[0].textContent=s,n.data("time",i),n.data("strength",d),n.find(".mdc-list-item__secondary-text").html(`Time: ${i}ms, Strength: ${d}`));C()}(a,n);_(),v()})),e(document).on("keyup keypress blur change","#mdp-speaker-element-form-name",(function(){let t=e("#mdp-speaker-element-form footer .mdp-save-btn");e(this).val().length>=1?t.prop("disabled",!1):t.prop("disabled",!0)})),e(document).on("keyup keypress blur change","#mdp-speaker-template-name",M),l.on("mouseleave",(function(){l.contents().find("body .mdp-highlight").removeClass("mdp-highlight")})),l.on("load",(function(){l.contents().find("head").append(e("\n                <style type='text/css'>\n                    .mdp-highlight {\n                        user-select: none !important;\n                        box-shadow: inset 0 0 0 1000px rgba(34, 134, 233, 0.3) !important;\n                        outline: 2px dotted #2286e9 !important;\n                        cursor: crosshair !important;\n                        transition: .05s;\n                    }\n                    \n                    .mdp-selected {\n                        user-select: none !important;\n                        outline: 2px dashed rgba(34, 134, 233, 0.5) !important;\n                        transition: .1s;\n                    }\n                    \n                    .mdp-selected:hover {\n                        outline: 2px dashed #2286e9 !important;\n                    }\n                    \n                    .mdp-selected.mdp-active {\n                        outline: 4px solid #2286e9 !important;\n                        transition: .1s;\n                    }\n                    \n                    .mdp-selected.mdp-highlight {\n                        box-shadow: inset 0 0 0 1000px rgba(34, 134, 233, 0.1) !important;\n                        transition: .1s;\n                    }\n                    \n                </style>\n            "));let t=l[0].contentDocument;if(t.body.onmouseover=A,t.body.onkeydown=j,e(document).on("keydown",j),t.body.onkeyup=U,e(document).on("keyup",U),l.contents().find("body *").click($),!e(".mdp-side-panel > footer .mdp-st-save-btn").data("is-new")){!function(t){if("content"===t)return;let a={action:"get_st",nonce:n.nonce,stid:t};e.post(ajaxurl,a,(function(t){if(t.success){let a=t.message;e("#mdp-speaker-template-name").val(a.name),e("#mdp-speaker-st-list").empty(),e.each(a.elements,(function(e,t){y(t.type,t.name,encodeURI(t.xpath),t.voice,t.sayAs,t.emphasis,t.content,t.time,t.strength)})),C()}else h(t)})).fail((function(e){h(e)}))}(p.val())}d.removeClass("mdp-active")}));let O=["adamant","adroit","amatory","animistic","antic","arcadian","baleful","bellicose","bilious","boorish","calamitous","caustic","cerulean","comely","concomitant","contumacious","corpulent","crapulous","defamatory","didactic","dilatory","dowdy","efficacious","effulgent","egregious","endemic","equanimous","execrable","fastidious","feckless","fecund","friable","fulsome","garrulous","guileless","gustatory","heuristic","histrionic","hubristic","incendiary","insidious","insolent","intransigent","inveterate","invidious","irksome","jejune","jocular","judicious","lachrymose","limpid","loquacious","luminous","mannered","mendacious","meretricious","minatory","mordant","munificent","nefarious","noxious","obtuse","parsimonious","pendulous","pernicious","pervasive","petulant","platitudinous","precipitate","propitious","puckish","querulous","quiescent","rebarbative","recalcitant","redolent","rhadamanthine","risible","ruminative","sagacious","salubrious","sartorial","sclerotic","serpentine","spasmodic","strident","taciturn","tenacious","tremulous","trenchant","turbulent","turgid","ubiquitous","uxorious","verdant","voluble","voracious","wheedling","withering","zealous"],L=["ninja","chair","pancake","statue","unicorn","rainbows","laser","senor","bunny","captain","nibblets","cupcake","carrot","gnomes","glitter","potato","salad","toejam","curtains","beets","toilet","exorcism","stick figures","mermaid eggs","sea barnacles","dragons","jellybeans","snakes","dolls","bushes","cookies","apples","ice cream","ukulele","kazoo","banjo","opera singer","circus","trampoline","carousel","carnival","locomotive","hot air balloon","praying mantis","animator","artisan","artist","colorist","inker","coppersmith","director","designer","flatter","stylist","leadman","limner","make-up artist","model","musician","penciller","producer","scenographer","set decorator","silversmith","teacher","auto mechanic","beader","bobbin boy","clerk of the chapel","filling station attendant","foreman","maintenance engineering","mechanic","miller","moldmaker","panel beater","patternmaker","plant operator","plumber","sawfiler","shop foreman","soaper","stationary engineer","wheelwright","woodworkers"];function q(e){let t=e[Math.floor(Math.random()*e.length)];return t.toLowerCase().split(" ").map((function(e){return e.replace(e[0],e[0].toUpperCase())})).join(" ")}}))}(jQuery);
!function(d,h){function o(t,o){var n=this;n.element=t,n.options=d.extend(!0,{},s,o),n.defaults=s,n.name=e,n.cssRules="",n.breakpoints=[],n.grids=[],n.activeTab=n.options.config.activeTab-1,n.tabs=d(n.element).find("> dt"),n.contents=d(n.element).find("> dd"),n.init(),n.generateStylesheet(n.cssRules),p++}var p=0,e="gridtab",s={grid:4,borderWidth:0,tabBorderColor:"#d5d5d5",tabPadding:0,contentBorderColor:"#d5d5d5",contentPadding:0,contentBackground:"#fff",activeTabBackground:"#fff",responsive:null,selectors:{tab:">dt",closeButton:".gridtab__close",nextArrow:".gridtab__next.gridtab__arrow",prevArrow:".gridtab__prev.gridtab__arrow",disabledArrow:".is-disabled"},config:{layout:"grid",keepOpen:!1,speed:500,activeTab:0,showClose:!1,showArrows:!1,scrollToTab:!1,rtl:!1},callbacks:{open:!1,close:!1}};o.prototype.init=function(){var o=this;d(o.element).addClass("gridtab gridtab--"+p),o.options.config.rtl&&d(o.element).attr("dir","rtl"),o.setTabOrder(),o.showControls(),o.addCssRules(o.options.grid,o.options.borderWidth,o.options.tabPadding,o.options.tabBorderColor,o.options.contentPadding,o.options.contentBorderColor,o.options.contentBackground,o.options.activeTabBackground,null),null!==o.options.responsive?o.responsiveBreakpoints():o.setContentOrder(o.options.grid),-1<o.activeTab&&o.activeTab<o.tabs.length&&o.slideContent(o.tabs[o.activeTab],!1,!1),d(o.element).on("click",o.options.selectors.tab,function(t){d(this).attr("href")&&t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),o.slideContent(d(this).closest("dt"),!1,o.options.config.scrollToTab)})},o.prototype.showControls=function(){var n=this;if(n.options.config.showClose||n.options.config.showArrows){var t=d('<div class="gridtab__controls"></div>').appendTo(n.contents);if(n.options.config.showClose&&d('<a class="'+n.options.selectors.closeButton.replace(/\./g," ")+'" href="#">Close</a>').appendTo(t),n.options.config.showArrows&&n.contents.length&&2<=n.contents.length){var e=n.options.selectors.nextArrow.replace(/\./g," "),s=n.options.selectors.prevArrow.replace(/\./g," "),o=n.options.selectors.disabledArrow.replace(/\./g," "),i='<a class="'+s+'" title="previous" href="#">Prev</a>',l='<a class="'+e+'" title="next" href="#">Next</a>',a='<span class="'+s+" "+o+'">Prev</span>',r='<span class="'+e+" "+o+'">Next</span>';2<n.contents.length&&d(i+l).appendTo(n.contents.slice(1,-1).find(t)),d(i+r).appendTo(d(n.contents[n.contents.length-1]).find(t)),d(a+l).appendTo(d(n.contents[0]).find(t))}d(t).on("click","a",function(t){t.preventDefault();var o=n.contents.index(d(this).parent().parent());d(this).hasClass(s)?n.slideContent(n.tabs[o-1],!1,n.options.config.scrollToTab):d(this).hasClass(e)?n.slideContent(n.tabs[o+1],!1,n.options.config.scrollToTab):n.slideContent(n.tabs[o],!0,!1)})}},o.prototype.setContentOrder=function(t){for(var o=Math.ceil(this.contents.length/t),n=0;n<o;n++){var e=n+1;this.contents.slice(n*t,t*e).css({order:""+e*t,"flex-order":""+e*t})}},o.prototype.setTabOrder=function(){this.tabs.each(function(t){d(this).css({order:""+t,"flex-order":""+t})})},o.prototype.addCssRules=function(t,o,n,e,s,i,l,a,r){if(null!==t||null!==o||null!==n||null!==e||null!==i||null!==s||null!==l||null!==a){var d="",c="";null!==t&&(c=Math.floor(100/t*100)/100),(null!==t||null!==o||null!==e||null!==n)&&(null!==o&&(d+=".gridtab--"+p+"{padding:"+o+"px 0 0 "+o+"px;}"),d+=".gridtab--"+p+" > dt{",null!==o&&(d+="margin:-"+o+"px 0 0 -"+o+"px;"),null!==t&&(d+="min-width:calc("+c+"% + "+o+"px);width:calc("+c+"% + "+o+"px);"),null!==o&&(d+="border-width:"+o+"px;"),null!==n&&(d+="padding:"+n+"px;"),null!==e&&(d+="border-color:"+e+";"),d+="}"),null!==a&&(d+=".gridtab--"+p+" >dt.is-active{background:"+a+";}"),"tab"==this.options.config.layout&&null!==a&&null!==o&&(d+=".gridtab--"+p+" >dt.is-active:after{background:"+a+";height:"+o+"px;bottom:-"+o+"px;}"),(null!==i||null!==o||null!==l||null!==s)&&(d+=".gridtab--"+p+">dd{",d+="min-width:calc("+c*t+"% + "+o+"px);max-width:calc("+c*t+"% + "+o+"px);",null!==o&&(d+="margin:-"+o+"px 0 0 -"+o+"px !important;border-width:"+o+"px;"),null!==i&&(d+="border-color:"+i+";"),null!==s&&(d+="padding:"+s+"px;"),null!==l&&(d+="background:"+l+";"),d+="}"),this.cssRules+=null!==r?"@media (max-width:"+r+"px){"+d+"}":d}},o.prototype.generateStylesheet=function(t){d("head").append("<style>"+t+"</style>")},o.prototype.responsiveBreakpoints=function(){function t(){var o=[];e.filter(function(t){t.matches&&o.push(parseInt(t.media.replace(/[^\d.]/g,"")))});var t=o.length?n.grids[n.breakpoints.indexOf(Math.min.apply(null,o))]:n.options.grid;n.setContentOrder(t)}var n=this;if(n.options.responsive&&n.options.responsive.length){n.options.responsive.sort(function(t,o){return parseFloat(o.breakpoint)-parseFloat(t.breakpoint)});var e=[];for(var o in n.options.responsive){var s=n.options.responsive[o].settings,i=s.grid||n.options.grid,l=s.borderWidth||n.options.borderWidth,a=s.tabBorderColor||null,r=s.tabPadding||null,d=s.activeTabBackground||null,c=s.contentPadding||null,p=s.contentBorderColor||null,u=s.contentBackground||null,b=n.options.responsive[o].breakpoint||null;n.addCssRules(i,l,r,a,c,p,u,d,b),n.breakpoints.push(b),n.grids.push(i),e.push(h.matchMedia("(max-width:"+n.breakpoints[o]+"px)")),t(h.matchMedia("(max-width:"+n.breakpoints[o]+"px)"))}for(o=0;o<e.length;o++)e[o].addListener(t)}},o.prototype.scrollToTab=function(){var t=d("html, body");t.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){t.stop()}),t.animate({scrollTop:d(this.element).find(".is-active").offset().top},1e3,function(){t.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")})},o.prototype.slideContent=function(t,o,n){var e=this,s=d(t),i=d(e.element).find(">dt.is-active").not(t);if(!s.hasClass("is-disabled")){if(i.length)e.tabs.addClass("is-disabled"),i.next().stop(!0).slideUp(e.options.config.speed,function(){return i.removeClass("is-active"),e.tabs.next().stop(!0),e.options.callbacks.close&&e.options.callbacks.close.call(this),s.addClass("is-active").next().stop(!0).slideDown(e.options.config.speed,function(){return e.options.callbacks.open&&e.options.callbacks.open.call(this),n&&e.scrollToTab(),e.tabs.removeClass("is-disabled"),!1}),!1});else if(e.options.config.keepOpen&&!o){if(!s.hasClass("is-active"))return s.addClass("is-active").next().stop(!0).slideDown(e.options.config.speed,function(){e.options.callbacks.open&&e.options.callbacks.open.call(this),n&&e.scrollToTab()}),!1}else e.tabs.addClass("is-disabled"),s.toggleClass("is-active").next().stop(!0).slideToggle(e.options.config.speed,function(){return d(this).is(":hidden")?e.options.callbacks.close&&e.options.callbacks.close.call(this):(e.options.callbacks.open&&e.options.callbacks.open.call(this),n&&e.scrollToTab()),e.tabs.removeClass("is-disabled"),!1});return!1}},d.fn[e]=function(t){return this.each(function(){d.data(this,"plugin_"+e)||d.data(this,"plugin_"+e,new o(this,t))})}}(jQuery,window,document);
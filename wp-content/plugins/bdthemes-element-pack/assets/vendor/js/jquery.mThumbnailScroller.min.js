!function(A,S,t){var B,s="mThumbnailScroller",z="mTS",a=".mThumbnailScroller",r={setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0},theme:"none",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},l=0,i={},o=S.attachEvent&&!S.addEventListener?1:0,c=["mTS_disabled","mTS_destroyed","mTS_no_scroll"],v={init:function(o){o=A.extend(!0,{},r,o);var t=d.call(this);if(o.live){var e=o.liveSelector||this.selector||a,n=A(e);if("off"===o.live)return void h(e);i[e]=setTimeout(function(){n.mThumbnailScroller(o),"once"===o.live&&n.length&&h(e)},500)}else h(e);return o.speed=0===o.speed?100:o.speed,u(o),A(t).each(function(){var t=A(this);if(!t.data(z)){t.data(z,{idx:++l,opt:o,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:t.css("direction"),cbOffsets:null,trigger:null});var e=t.data(z).opt,n=t.data("mts-axis"),a=t.data("mts-type"),i=t.data("mts-theme");n&&(e.axis=n),a&&(e.type=a),i&&(e.theme=i,u(e)),f.call(this),v.update.call(null,t)}})},update:function(t){var e=t||d.call(this);return A(e).each(function(){var t=A(this);if(t.data(z)){var e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx+"_container");if(!a.length)return;e.tweenRunning&&R(t),t.hasClass(c[0])&&t.removeClass(c[0]),t.hasClass(c[1])&&t.removeClass(c[1]),g.call(this),p.call(this),e.overflowed=w.call(this),M.call(this),_.call(this);var i=[a[0].offsetTop,a[0].offsetLeft];"x"!==n.axis&&(e.overflowed[0]?U(t,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(b.call(this),"y"===n.axis?(U(t,"0",{dir:"y",dur:0,overwrite:"none"}),y.call(this)):"yx"===n.axis&&e.overflowed[1]&&U(t,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==n.axis&&(e.overflowed[1]?U(t,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(b.call(this),"x"===n.axis?(U(t,"0",{dir:"x",dur:0,overwrite:"none"}),y.call(this)):"yx"===n.axis&&e.overflowed[0]&&U(t,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),e.overflowed[0]||e.overflowed[1]?t.removeClass(c[2]):t.addClass(c[2]),F.call(this)}})},scrollTo:function(l,s){if(void 0!==l&&null!=l){var t=d.call(this);return A(t).each(function(){var t=A(this);if(t.data(z)){var e=t.data(z),n=e.opt,a={trigger:"external",speed:n.speed,duration:1e3,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=A.extend(!0,{},a,s),o=E.call(this,l),r=i.duration?i.duration:7e3/(i.speed||1);o[0]=D.call(this,o[0],"y"),o[1]=D.call(this,o[1],"x"),i.dur=0<r&&r<17?17:r,setTimeout(function(){null!==o[0]&&void 0!==o[0]&&"x"!==n.axis&&e.overflowed[0]&&(i.dir="y",i.overwrite="all",U(t,-o[0].toString(),i)),null!==o[1]&&void 0!==o[1]&&"y"!==n.axis&&e.overflowed[1]&&(i.dir="x",i.overwrite="none",U(t,-o[1].toString(),i))},i.timeout)}})}},stop:function(){var t=d.call(this);return A(t).each(function(){var t=A(this);t.data(z)&&R(t)})},disable:function(e){var t=d.call(this);return A(t).each(function(){var t=A(this);if(t.data(z)){t.data(z).opt;F.call(this,"remove"),y.call(this),e&&b.call(this),M.call(this,!0),t.addClass(c[0])}})},destroy:function(){var o=d.call(this);return A(o).each(function(){var t=A(this);if(t.data(z)){var e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx),i=(A("#mTS_"+e.idx+"_container"),A("#mTS_"+e.idx+"_buttonUp,#mTS_"+e.idx+"_buttonDown,#mTS_"+e.idx+"_buttonLeft,#mTS_"+e.idx+"_buttonRight"));n.live&&h(o),F.call(this,"remove"),y.call(this),b.call(this),t.removeData(z),H(this,"mts"),i.remove(),a.replaceWith(e.html),t.removeClass(s+" _"+z+"_"+e.idx+" "+z+"-"+n.theme+" "+c[2]+" "+c[0]).addClass(c[1])}})}},d=function(){return"object"!=typeof A(this)||A(this).length<1?a:this},u=function(t){var e=["hover-classic"],n=["hover-full"];t.markup.buttonsPlaceholder=-1<A.inArray(t.theme,["buttons-out"])?"outside":t.markup.buttonsPlaceholder,t.markup.buttonsHTML=-1<A.inArray(t.theme,["buttons-in"])?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:-1<A.inArray(t.theme,["buttons-out"])?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:t.markup.buttonsHTML,t.type=-1<A.inArray(t.theme,e)?"hover-85":-1<A.inArray(t.theme,n)?"hover-precise":t.type,t.speed=-1<A.inArray(t.theme,e)?60:-1<A.inArray(t.theme,n)?10:t.speed},h=function(t){i[t]&&(clearTimeout(i[t]),H(i,t))},f=function(){var t=A(this),e=t.data(z),n=e.opt,a="yx"===n.axis?"mTS_vertical_horizontal":"x"===n.axis?"mTS_horizontal":"mTS_vertical",i=n.markup.thumbnailsContainer||"ul",o=n.markup.thumbnailContainer||"li",r=n.markup.thumbnailElement||"img";if(e.html=t.children().clone(!0,!0),!t.find(i).length){var l=t.find("li").length?"<ul class='mTSAutoContainer' />":"<div class='mTSAutoContainer' />";t.wrapInner(l),i=".mTSAutoContainer"}n.setWidth&&t.css("width",n.setWidth),n.setHeight&&t.css("height",n.setHeight),n.setLeft="y"!==n.axis&&"rtl"===e.langDir?"-989999px":n.setLeft,t.addClass(s+" _"+z+"_"+e.idx+" "+z+"-"+n.theme).find(i).wrap("<div id='mTS_"+e.idx+"' class='mTSWrapper "+a+"' />").addClass(z+"Container").attr("id","mTS_"+e.idx+"_container").css({position:"relative",top:n.setTop,left:n.setLeft}).find(o).addClass(z+"ThumbContainer").find(r).addClass(z+"Thumb"),m.call(this)},p=function(){var t=A(this).data(z),e=t.opt,n=A("#mTS_"+t.idx+"_container");e.advanced.autoExpandHorizontalScroll&&"y"!==e.axis&&n.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right)-Math.floor(n[0].getBoundingClientRect().left),position:"relative"}).unwrap()},m=function(){var t=A(this),e=t.data(z),n=e.opt,a=n.markup.buttonsPlaceholder?"outside"===n.markup.buttonsPlaceholder?t:A(n.markup.buttonsPlaceholder):A("#mTS_"+e.idx),i=["<a href='#' id='mTS_"+e.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+x.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+e.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+x.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+e.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+x.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+e.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+x.call(this,"right")+"</span></a>"];n.axis,n.axis;a.hasClass(s)&&"static"===a.css("position")&&a.css("position","relative"),-1!==n.type.indexOf("click")&&("x"!==n.axis&&a.append(i[0]+i[1]),"y"!==n.axis&&a.append(i[2]+i[3]))},x=function(t){var e=A(this).data(z).opt.markup.buttonsHTML,n="SVG set 1"===e[t]?0:"SVG set 2"===e[t]?1:"SVG set 3"===e[t]?2:"SVG set 4"===e[t]?3:"SVG set 5"===e[t]?4:null;switch(t){case"up":return null===n?e[t]:o?"&uarr;":T(e[t])[n][0];case"down":return null===n?e[t]:o?"&darr;":T(e[t])[n][1];case"left":return null===n?e[t]:o?"&larr;":T(e[t])[n][2];case"right":return null===n?e[t]:o?"&rarr;":T(e[t])[n][3]}},T=function(){var t="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",e="</svg>";return[[t+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+e,t+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+e,t+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+e,t+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+e],[t+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+e,t+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+e,t+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+e,t+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+e],[t+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+e,t+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+e,t+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+e,t+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+e],[t+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+e,t+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+e,t+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+e,t+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+e],[t+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+e,t+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+e,t+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+e,t+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+e]]},g=function(){var t=A(this),e=t.data(z),n=(e.opt,A("#mTS_"+e.idx)),a=t.css("max-height"),i=-1!==a.indexOf("%"),o=t.css("box-sizing");if("none"!==a){var r=i?t.parent().height()*parseInt(a)/100:parseInt(a);"border-box"===o&&(r-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),n.css("max-height",Math.round(r))}},w=function(){var t=A(this).data(z),e=A("#mTS_"+t.idx),n=A("#mTS_"+t.idx+"_container");return[n.height()>e.height(),n.width()>e.width()]},b=function(){var t=A(this),e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx),i=A("#mTS_"+e.idx+"_container");if(R(t),("x"!==n.axis&&!e.overflowed[0]||"y"===n.axis&&e.overflowed[0])&&i.css("top",0),"y"!==n.axis&&!e.overflowed[1]||"x"===n.axis&&e.overflowed[1]){var o="rtl"===e.langDir?a.width()-i.width():0;i.css("left",o)}},_=function(){var t=A(this).data(z),e=t.opt;t.bindEvents||(e.contentTouchScroll&&n.call(this),-1!==e.type.indexOf("hover")?"hover-precise"===e.type?k.call(this):O.call(this):-1!==e.type.indexOf("click")&&I.call(this),t.bindEvents=!0)},y=function(){var t=A(this).data(z),e=z+"_"+t.idx,n=A("#mTS_"+t.idx+",#mTS_"+t.idx+"_container,#mTS_"+t.idx+"_buttonUp,#mTS_"+t.idx+"_buttonDown,#mTS_"+t.idx+"_buttonLeft,#mTS_"+t.idx+"_buttonRight"),a=A("#mTS_"+t.idx+"_container");t.bindEvents&&(n.each(function(){A(this).unbind("."+e)}),clearTimeout(a[0].onCompleteTimeout),H(a[0],"onCompleteTimeout"),t.bindEvents=!1)},M=function(t,e,n){var a=A(this).data(z),i=a.opt;if(-1!==i.type.indexOf("click")){n||(n=i.axis);var o=[A("#mTS_"+a.idx+"_buttonUp"),A("#mTS_"+a.idx+"_buttonDown"),A("#mTS_"+a.idx+"_buttonLeft"),A("#mTS_"+a.idx+"_buttonRight")],r=z+"-hidden";"x"!==n&&(!a.overflowed[0]||t||e?sel=1===e?[o[0],o[1]]:2===e?[o[1],o[0]]:[o[0].add(o[1]),null]:sel=[a.overflowed[1]?null:o[2].add(o[3]),o[0].add(o[1])]),"y"!==n&&(!a.overflowed[1]||t||e?sel=1===e?[o[2],o[3]]:2===e?[o[3],o[2]]:[o[2].add(o[3]),null]:sel=[a.overflowed[0]?null:o[0].add(o[1]),o[2].add(o[3])]),sel[0]&&sel[0].addClass(r),sel[1]&&sel[1].removeClass(r)}},P=function(t){switch(t.type){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[t.originalEvent.pageY,t.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];return[e.pageY,e.pageX];default:return[t.pageY,t.pageX]}},C=function(t){return B||-1!==t.type.indexOf("touch")||void 0!==t.pointerType&&(2===t.pointerType||"touch"===t.pointerType)?"touch":"mouse"},n=function(){var c,d,u,h,f,p,m,v,x,T,g,S=A(this),w=S.data(z),b=w.opt,t=z+"_"+w.idx,_=A("#mTS_"+w.idx),y=A("#mTS_"+w.idx+"_container"),M=[],C=[],k="yx"===b.axis?"none":"all",O=[];function I(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return 90<t?4<e?n[0]:n[3]:60<t?3<e?n[3]:n[2]:30<t?8<e?n[1]:6<e?n[0]:4<e?e:n[2]:8<e?e:n[3]}function L(t,e,n,a,i){t&&U(S,-t.toString(),{dur:e,easing:n,dir:a,overwrite:i})}y.bind("touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(N(t)){S.removeClass("mTS_touch_action");var e=y.offset();c=P(t)[0]-e.top,d=P(t)[1]-e.left,O=[P(t)[0],P(t)[1]]}}).bind("touchmove."+t+" pointermove."+t+" MSPointerMove."+t,function(t){if(N(t)){t.stopImmediatePropagation(),p=G();var e=_.offset(),n=P(t)[0]-e.top,a=P(t)[1]-e.left,i="linearOut";if(M.push(n),C.push(a),O[2]=Math.abs(P(t)[0]-O[0]),O[3]=Math.abs(P(t)[1]-O[1]),w.overflowed[0])var o=_.height()-y.height(),r=0<c-n&&o<n-c&&2*O[3]<O[2];if(w.overflowed[1])var l=_.width()-y.width(),s=0<d-a&&l<a-d&&2*O[2]<O[3];r||s?t.preventDefault():S.addClass("mTS_touch_action"),T="yx"===b.axis?[c-n,d-a]:"x"===b.axis?[null,d-a]:[c-n,null],y[0].idleTimer=250,w.overflowed[0]&&L(T[0],0,i,"y","all"),w.overflowed[1]&&L(T[1],0,i,"x",k)}}),_.bind("touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(N(t)){t.stopImmediatePropagation(),B=!0,R(S),f=G();var e=_.offset();u=P(t)[0]-e.top,h=P(t)[1]-e.left,M=[],C=[]}}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){if(N(t)){t.stopImmediatePropagation(),m=G();var e=_.offset(),n=P(t)[0]-e.top,a=P(t)[1]-e.left;if(!(30<m-p)){var i="easeOut",o=(x=1e3/(m-f))<2.5,r=o?[M[M.length-2],C[C.length-2]]:[0,0];v=o?[n-r[0],a-r[1]]:[n-u,a-h];var l=[Math.abs(v[0]),Math.abs(v[1])];x=o?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[x,x];var s=[Math.abs(y[0].offsetTop)-v[0]*I(l[0]/x[0],x[0]),Math.abs(y[0].offsetLeft)-v[1]*I(l[1]/x[1],x[1])];T="yx"===b.axis?[s[0],s[1]]:"x"===b.axis?[null,s[1]]:[s[0],null],g=[4*l[0]+60*b.speed,4*l[1]+60*b.speed];var c=parseInt(b.contentTouchScroll)||0;T[0]=c<l[0]?T[0]:0,T[1]=c<l[1]?T[1]:0,w.overflowed[0]&&L(T[0],g[0],i,"y",k),w.overflowed[1]&&L(T[1],g[1],i,"x",k)}}})},k=function(){var r,l,s,c=A(this),d=c.data(z),u=d.opt,t=z+"_"+d.idx,h=A("#mTS_"+d.idx),f=A("#mTS_"+d.idx+"_container"),e=S.navigator.pointerEnabled?"pointermove":S.navigator.msPointerEnabled?"MSPointerMove":"mousemove";h.bind(e+"."+t,function(t){if("touch"!==C(t.originalEvent||t)&&(d.overflowed[0]||d.overflowed[1])){t.preventDefault();var e=h.height(),n=f.height(),a=h.width(),i=f.width(),o=i/a*7e3/(u.speed||1);r=[P(t)[0]-h.offset().top,P(t)[1]-h.offset().left],l=[r[0]/h.height(),r[1]/h.width()],s=[Math.round(-(n-e)*l[0]),Math.round(-(i-a)*l[1])],"x"!==u.axis&&d.overflowed[0]&&U(c,s[0].toString(),{dir:"y",dur:o,easing:"easeOut"}),"y"!==u.axis&&d.overflowed[1]&&U(c,s[1].toString(),{dir:"x",dur:o,easing:"easeOut"})}})},O=function(){var e,n,a,i,o,r=A(this),l=r.data(z),s=l.opt,t=z+"_"+l.idx,c=A("#mTS_"+l.idx),d=A("#mTS_"+l.idx+"_container"),u=S.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:S.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],h=S.requestAnimationFrame?0:17,f=s.speed,p=parseInt(s.type.split("hover-")[1])||1,m=f*p/100,v=[0,0];function x(){if(!B){i=[a[0]+d[0].offsetTop,a[1]+d[0].offsetLeft];var t=[c.height()-d.height(),c.width()-d.width()];"x"!==s.axis&&l.overflowed[0]&&(i[0]=0<i[0]?0:i[0]<t[0]?t[0]:i[0],a[0]&&!v[0]&&U(r,i[0],{dir:"y",dur:0,easing:"linear"}),(0<=i[0]||i[0]<=t[0])&&(v[0]=1)),"y"!==s.axis&&l.overflowed[1]&&(i[1]=0<i[1]?0:i[1]<t[1]?t[1]:i[1],a[1]&&!v[1]&&U(r,i[1],{dir:"x",dur:0,easing:"linear"}),(0<=i[1]||i[1]<=t[1])&&(v[1]=1)),o=setTimeout(function(){c[0].rAF=e(x)},h)}}c.bind(u[0]+"."+t,function(t){"touch"!==C(t.originalEvent||t)&&(l.overflowed[0]||l.overflowed[1])&&function(){if(c[0].rAF)return;e=S.requestAnimationFrame?S.requestAnimationFrame:function(t){return setTimeout(t,17)},c[0].rAF=e(x)}()}).bind(u[1]+"."+t,function(t){"touch"!==C(t.originalEvent||t)&&(l.overflowed[0]||l.overflowed[1])&&(n=[P(t)[0]-c.offset().top,P(t)[1]-c.offset().left],(a=[Math.round(Math.cos(n[0]/c.height()*Math.PI)*f),Math.round(Math.cos(n[1]/c.width()*Math.PI)*f)])[0]=a[0]<=-m?a[0]+=m:a[0]>=m?a[0]-=m:a[0]=0,a[1]=a[1]<=-m?a[1]+=m:a[1]>=m?a[1]-=m:a[1]=0,v=[0,0])}).bind(u[2]+"."+t,function(t){"touch"!==C(t.originalEvent||t)&&(l.overflowed[0]||l.overflowed[1])&&function(){if(null==c[0].rAF)return;S.requestAnimationFrame?S.cancelAnimationFrame(c[0].rAF):clearTimeout(c[0].rAF);clearTimeout(o),c[0].rAF=null}()})},I=function(){var s=A(this),c=s.data(z),d=c.opt,t=z+"_"+c.idx,u=A("#mTS_"+c.idx),h=A("#mTS_"+c.idx+"_container"),e=[A("#mTS_"+c.idx+"_buttonUp"),A("#mTS_"+c.idx+"_buttonDown"),A("#mTS_"+c.idx+"_buttonLeft"),A("#mTS_"+c.idx+"_buttonRight")];e[0].add(e[1]).add(e[2]).add(e[3]).bind("click."+t,function(t){if(j(t)&&(c.overflowed[0]||c.overflowed[1])&&(t.preventDefault(),!c.tweenRunning)){if("x"!==d.axis&&c.overflowed[0]){var e=u.height(),n="click-thumb"===d.type?0:A(this).hasClass("mTSButtonUp")?"+=":A(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==d.type)var a=parseInt(d.type.split("click-")[1])||1,i=n?[n+e*a/100,null]:0;else{var o=L.call(s[0])[0],r=L.call(s[0])[1];if(A(this).hasClass("mTSButtonDown"))i=r?r[0].offsetTop-parseInt(r.css("margin-bottom"))-e:989999;else if(A(this).hasClass("mTSButtonUp")){i=o?o[0].offsetTop-parseInt(o.css("margin-top")):0;if(0===h[0].offsetTop)return}}}if("y"!==d.axis&&c.overflowed[1]){var l=u.width();n="click-thumb"===d.type?0:A(this).hasClass("mTSButtonLeft")?"+=":A(this).hasClass("mTSButtonRight")?"-=":0;if("click-thumb"!==d.type)a=parseInt(d.type.split("click-")[1])||1,i=n?[null,n+l*a/100]:i;else{o=L.call(s[0])[2],r=L.call(s[0])[3];if(A(this).hasClass("mTSButtonRight"))i=r?r[0].offsetLeft-parseInt(r.css("margin-right"))-l:989999;else if(A(this).hasClass("mTSButtonLeft")){i=o?o[0].offsetLeft-parseInt(o.css("margin-left")):0;if(0===h[0].offsetLeft)return}}}null!==i&&v.scrollTo.call(s[0],i,{duration:0})}})},L=function(){var i,o,r,l,t=A(this).data(z),s=(t.opt,A("#mTS_"+t.idx+"_container")),c=A("#mTS_"+t.idx),d=s.find(".mTSThumbContainer");return d.each(function(){var t=A(this),e=[Math.round(t.offset().top-s.offset().top+s[0].offsetTop),Math.round(t.offset().left-s.offset().left+s[0].offsetLeft)];if(e[0]<=0-parseInt(t.css("margin-top")))i=0===e[0]?d.eq(t.index()-1):d.eq(t.index());else if(e[0]<=c.height()+parseInt(t.css("margin-bottom"))){var n=d.eq(t.index()+1);o=n.length?n:null}if(e[1]<=0-parseInt(t.css("margin-left")))r=0===e[1]?d.eq(t.index()-1):d.eq(t.index());else if(e[1]<=c.width()+parseInt(t.css("margin-right"))){var a=d.eq(t.index()+1);l=a.length?a:null}}),[i,o,r,l]},E=function(t){var e=A(this).data(z).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=1<t.length?[t[0],t[1]]:"x"===e.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===e.axis?null:t,n[1]=t.x?t.x:t.y||"y"===e.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},D=function(t,e){if(null!=t&&void 0!==t){var n=A(this),a=n.data(z),i=a.opt,o=A("#mTS_"+a.idx),r=A("#mTS_"+a.idx+"_container"),l=typeof t;e||(e="x"===i.axis?"x":"y");var s="x"===e?r.width():r.height(),c="x"===e?r.offset().left:r.offset().top,d="x"===e?r[0].offsetLeft:r[0].offsetTop,u="x"===e?"left":"top";switch(l){case"function":return t();case"object":if(t.nodeType)var h="x"===e?A(t).offset().left:A(t).offset().top;else if(t.jquery){if(!t.length)return;h="x"===e?t.offset().left:t.offset().top}return h-c;case"string":case"number":if(W(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(s*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(d-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var f=d+parseInt(t.split("+=")[1]);return 0<=f?0:Math.abs(f)}if(-1!==t.indexOf("px")&&W(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(o.height()-r.height());if("right"===t)return Math.abs(o.width()-r.width());if("first"!==t&&"last"!==t)return A(t).length?(h="x"===e?A(t).offset().left:A(t).offset().top)-c:(r.css(u,t),void v.update.call(null,n[0]));var p=r.find(":"+t);return(h="x"===e?A(p).offset().left:A(p).offset().top)-c}}},F=function(t){var e=A(this),n=e.data(z),a=n.opt,i=A("#mTS_"+n.idx),o=A("#mTS_"+n.idx+"_container");if(t)return clearTimeout(o[0].autoUpdate),void H(o[0],"autoUpdate");var r,l,s,c=p(),d=[o.height(),o.width(),i.height(),i.width(),e.height(),e.width()],u=h();function h(){var t=0;return a.advanced.updateOnImageLoad&&(t=o.find("img").length),t}function f(t){var e,n,a=new Image;a.onload=(e=a,n=function(){this.onload=null,m()},function(){return n.apply(e,arguments)}),a.src=t}function p(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var t=0,e=o.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&0<e.length&&e.each(function(){t+=A(this).height()+A(this).width()}),t}function m(){clearTimeout(o[0].autoUpdate),v.update.call(null,e[0])}!function t(){clearTimeout(o[0].autoUpdate);if(0===e.parents("html").length)return void(e=null);o[0].autoUpdate=setTimeout(function(){if(a.advanced.updateOnSelectorChange&&(r=p())!==c)return m(),void(c=r);a.advanced.updateOnContentResize&&((l=[o.height(),o.width(),i.height(),i.width(),e.height(),e.width()])[0]===d[0]&&l[1]===d[1]&&l[2]===d[2]&&l[3]===d[3]&&l[4]===d[4]&&l[5]===d[5]||(m(),d=l)),a.advanced.updateOnImageLoad&&(s=h())!==u&&(o.find("img").each(function(){f(this.src)}),u=s),(a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&t()},60)}()},R=function(t){var e=t.data(z);A("#mTS_"+e.idx+"_container").each(function(){q.call(this)})},U=function(a,t,i){var e=a.data(z),n=e.opt,o={trigger:"internal",dir:"y",easing:"easeOut",dur:60*n.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=(i=A.extend(o,i),A("#mTS_"+e.idx)),l=A("#mTS_"+e.idx+"_container"),s=n.callbacks.onTotalScrollOffset?E.call(a,n.callbacks.onTotalScrollOffset):[0,0],c=n.callbacks.onTotalScrollBackOffset?E.call(a,n.callbacks.onTotalScrollBackOffset):[0,0];switch(e.trigger=i.trigger,0===r.scrollTop()&&0===r.scrollLeft()||r.scrollTop(0).scrollLeft(0),i.dir){case"x":var d="left",u=l[0].offsetLeft,h=r.width()-l.width(),f=t,p=s[1],m=c[1],v=0<p?p:0,x=0<m?m:0;break;case"y":d="top",u=l[0].offsetTop,h=r.height()-l.height(),f=t,p=s[0],m=c[0],v=0<p?p:0,x=0<m?m:0}function T(t){return e&&n.callbacks[t]&&"function"==typeof n.callbacks[t]}function g(){var t=[l[0].offsetTop,l[0].offsetLeft],e=[l.height(),l.width()],n=[r.height(),r.width()];a[0].mts={content:l,top:t[0],left:t[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(e[0])-n[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(e[1])-n[1])),direction:i.dir}}0<=f?(f=0,M.call(a,!1,1,i.dir)):f<=h?(f=h,M.call(a,!1,2,i.dir)):(f=f,M.call(a,!1,0,i.dir)),a[0].mts||(g(),T("onInit")&&n.callbacks.onInit.call(a[0])),clearTimeout(l[0].onCompleteTimeout),!e.tweenRunning&&(0===u&&0<=f||u===h&&f<=h)||V(l[0],d,Math.round(f),i.dur,i.easing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!e.tweenRunning&&(T("onScrollStart")&&(g(),n.callbacks.onScrollStart.call(a[0])),e.tweenRunning=!0,e.cbOffsets=[n.callbacks.alwaysTriggerOffsets||h+p<=u,n.callbacks.alwaysTriggerOffsets||u<=-m])},onUpdate:function(){i.callbacks&&i.onUpdate&&T("whileScrolling")&&(g(),n.callbacks.whileScrolling.call(a[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===n.axis&&clearTimeout(l[0].onCompleteTimeout);var t=l[0].idleTimer||0;l[0].onCompleteTimeout=setTimeout(function(){T("onScroll")&&(g(),n.callbacks.onScroll.call(a[0])),T("onTotalScroll")&&f<=h+v&&e.cbOffsets[0]&&(g(),n.callbacks.onTotalScroll.call(a[0])),T("onTotalScrollBack")&&-x<=f&&e.cbOffsets[1]&&(g(),n.callbacks.onTotalScrollBack.call(a[0])),e.tweenRunning=!1,l[0].idleTimer=0},t)}}})},V=function(t,e,n,a,i,o,r){t._mTween||(t._mTween={top:{},left:{}});var l,s,c=(r=r||{}).onStart||function(){},d=r.onUpdate||function(){},u=r.onComplete||function(){},h=G(),f=0,p=t.offsetTop,m=t.style,v=t._mTween[e];"left"===e&&(p=t.offsetLeft);var x=n-p;function T(){v.stop||(f||c.call(),f=G()-h,g(),f>=v.time&&(v.time=f>v.time?f+l-(f-v.time):f+l-1,v.time<f+1&&(v.time=f+1)),v.time<a?v.id=s(T):u.call())}function g(){0<a?(v.currVal=function(t,e,n,a,i){switch(i){case"linear":return n*t/a+e;case"linearOut":return t/=a,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=a/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":return(t/=a/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=a,-n*(--t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/a))+e;case"easeOut":default:var o=(t/=a)*t,r=o*t;return e+n*(.499999999999997*r*o+-2.5*o*o+5.5*r+-6.5*o+4*t)}}(v.time,p,x,a,i),m[e]=Math.round(v.currVal)+"px"):m[e]=n+"px",d.call()}v.stop=0,"none"!==o&&function(){if(null==v.id)return;S.requestAnimationFrame?S.cancelAnimationFrame(v.id):clearTimeout(v.id);v.id=null}(),l=1e3/60,v.time=f+l,s=S.requestAnimationFrame?S.requestAnimationFrame:function(t){return g(),setTimeout(t,.01)},v.id=s(T)},G=function(){return S.performance&&S.performance.now?S.performance.now():S.performance&&S.performance.webkitNow?S.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},q=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var a=e[n];t._mTween[a].id&&(S.requestAnimationFrame?S.cancelAnimationFrame(t._mTween[a].id):clearTimeout(t._mTween[a].id),t._mTween[a].id=null,t._mTween[a].stop=1)}},H=function(e,n){try{delete e[n]}catch(t){e[n]=null}},j=function(t){return!(t.which&&1!==t.which)},N=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},W=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};A.fn[s]=function(t){return v[t]?v[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void A.error("Method "+t+" does not exist"):v.init.apply(this,arguments)},A[s]=function(t){return v[t]?v[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void A.error("Method "+t+" does not exist"):v.init.apply(this,arguments)},A[s].defaults=r,S[s]=!0,A(S).load(function(){var t=A(a),o=[];if(t.length){t.each(function(){var t=A(this),e=t.data("mts-axis")||r.axis,n=t.data("mts-type")||r.type,a="auto-mTS-"+e+"-"+n+"-"+(t.data("mts-theme")||r.theme),i=[a,e,n];t.addClass(a),-1===A.inArray(a,o)&&o.push(i)});for(var e=0;e<o.length;e++)A("."+o[e][0])[s]({axis:o[e][1],type:o[e][2]})}})}(jQuery,window,document);